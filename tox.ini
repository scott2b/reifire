[tox]
envlist = py39,py310,py311,lint,typecheck
isolated_build = True

[testenv]
deps =
    pytest>=7.4.0
    pytest-cov>=4.1.0
commands =
    pip install -e .
    pytest {posargs:tests} --cov=reifire --cov-report=term-missing

[testenv:lint]
deps =
    black>=23.12.1
    isort>=5.13.2
    flake8>=7.0.0
    flake8-docstrings>=1.7.0
commands =
    black --check src tests
    isort --check-only src tests
    flake8 src tests

[testenv:typecheck]
deps =
    mypy>=1.8.0
    pytest>=7.4.0
commands =
    mypy src tests --ignore-missing-imports

[pytest]
testpaths = tests
python_files = test_*.py
python_functions = test_* 